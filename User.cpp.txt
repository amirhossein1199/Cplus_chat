// User.cpp

// File-e "User.h" ro ezafe mikonim ta betavanim tavabe'i ke oonja ta'rif kardim ro inja piade sazi konim.
#include "User.h"

#include <iostream>
// Baraye estefade az zaman-e feli baraye timestamp be in ketabkhane niaz darim.
#include <ctime>

// --- Piade sazi-e Constructor (Sazande) ---
// Dastoor-e User::User() yani "in tabe'e sazande-ye class-e User ast".
User::User() {
    // Inja meghdar-haye avalie ro be moteghayer-haye class midim.
    // In kar az be voojood oomadan-e bug-haye ajib jelogiri mikone.

    // id ro -1 mizarim ke yani hanooz hich karbari vojood nadare.
    id = -1;
    // username va passwordHash ro khali (empty string) mizarim.
    username = "";
    passwordHash = "";
    // creationTimestamp ro 0 mizarim.
    creationTimestamp = 0;

    // std::cout << "Yek object-e User jadid sakhte shod.\n";   --------> baraye test bood
}


// --- Piadesazi-e Tabe'e registerUser ---
// Inja moshakhas mikonim ke tabe'e registerUser bayad che kari anjam bede.
void User::registerUser() {
    // Dar in marhale, faghat yek payam-e sade chap mikonim.
    // Dar ayande, inja code-haye asli-e sabt-e nam ro minevisim.
    // (Gereftan-e username, password, hash kardan, zakhire dar file json, ...)

    std::cout << "Karbar dar hale sabt-e nam ast...\n";

    // Be onvan-e yek mesal, zaman-e feli ro migirim va dar moteghayer-e timestamp zakhire mikonim.
    // time(0) zaman-e feli ro be soorat-e timestamp barmigardoone.
    creationTimestamp = time(0);
    std::cout << "Timestamp-e sakht-e account: " << creationTimestamp << std::endl;
}


// --- Piadesazi-e Tabe'e loginUser ---
bool User::loginUser() {
    // Inja ham felan faghat yek payam-e sade chap mikonim.
    // Dar ayande inja code-haye vorood-e karbar ro minevisim.
    // (Gereftan-e username va password, moghayese ba data-ye dakhel-e file json, ...)

    std::cout << "Karbar dar hale vorood ast...\n";

    // Felan be soorat-e pishfarz true barmigardoonim, yani vorood movaffaghiat amiz boode.
    return true;
}